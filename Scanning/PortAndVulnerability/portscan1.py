#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
Port Scan
@filename portscan1.py
@version 0.01 (python ver 3.8.2)
@author Douglas Quintiliano dos Santos
"""

# Libraries used
# https://docs.python.org/3/library/socket.html

# Dependencies
import socket

# Colors
RESET, GREEN, RED = '\033[0m', '\033[92m', '\033[91m' 

# define the default timeout for the connection, without this option that connection will be hanging for a long time
socket.setdefaulttimeout(0.5) 

# Function to start the scanner
def portscanner(port):
  with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    if s.connect_ex((host, port)):
      print("{} [!!] Port {} is closed {}".format(RED, port, RESET))
    else:
      print("{} [+] Port {} is opened {}".format(GREEN, port, RESET))


# Get the information about the host to scan
host = input("[*] Enter the Host to Scan: ")
# port = int(input("[*] Enter the Port to Scan: "))

for port in range(1,100, 5):
  portscanner(port)